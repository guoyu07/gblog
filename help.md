```

### return json response
> App\Http\Controllers\Home.php

```php
// function destroy()....
$data = [
	'errmsg' => $msg,
	'errno'  => $status,
	'data'   => $data
];
return response()->json($data);
```                                                                                             | 2016-05-09 14:42:27 | 2016-05-09 14:42:27 |
| 39 |       7 |        7 | letsencrypt证书设置自动更新               |         458 |       0 | 默认的letsencrypt只有三个月的失效， 所以到期后， 需要手动设置更新，


[certbot(letsencrypt) github地址](https://github.com/certbot/certbot "certbot(letsencrypt) github")

自动更新命令

> letencrypt-auto-https.sh

```bash
#!/bin/bash
cd /root
./certbot-auto --verbose certonly -a webroot --renew-by-default --config /root/auto_https/auto_https.ini
service nginx reload
```

> 以上certbot-auto文件位于root目录下， 可从上面的github地址下载， 若下载的certbot-auto运行后无响应， 可从[这里](https://godruoyi.com/images/products/certbot-auto.txt)下载


配置文件地址 /root/auto_https/auto_https.ini

```bash
  rsa-key-size = 4096
  email = g@godruoyi.com
  domains = godruoyi.com
  webroot-path = /var/www/html/godruoyi.com/web/
```

设置成你自己的配置即可，

#### 可能遇到的问题，

在命令执行到`install python package`是长时间无响应

> no response "Installing Python packages"

参考[no response "Installing Python packages"](https://github.com/certbot/certbot/issues/2516)

-----------

后期可把上述`sh`文件设置到crontab中让其自动更新 | 2016-08-26 09:41:31 | 2016-08-26 09:41:31 |
+----+---------+----------+-------------------------------------------+-------------+---------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------+---------------------+
2 rows in set (0.00 sec)
